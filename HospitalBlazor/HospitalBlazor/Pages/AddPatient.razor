@page "/addPatient"
@inject NavigationManager NavigationManager


<div class="container">
    <EditForm Model="newPatient" OnValidSubmit="HandleValidSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />
        <div class="mb-3">
            <label for="oib" class="form-label">OIB</label>
            <InputText id="oib" class="form-control" @bind-Value="newPatient.OIB" />
        </div>
        <div class="mb-3">
            <label for="mbo" class="form-label">MBO</label>
            <InputText id="mbo" class="form-control" @bind-Value="newPatient.MBO" />
        </div>
        <div class="mb-3">
            <label for="fullName" class="form-label">Full Name</label>
            <InputText id="fullName" class="form-control" @bind-Value="newPatient.FullName" />
        </div>
        <div class="mb-3">
            <label for="dateOfBirth" class="form-label">Date of Birth</label>
            <InputDate id="dateOfBirth" class="form-control" @bind-Value="newPatient.DateOfBirth" />
        </div>
        <div class="mb-3">
            <label for="gender" class="form-label">Gender</label>
            <InputSelect id="gender" class="form-control" @bind-Value="newPatient.Gender">
                <option value="">Select Gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
            </InputSelect>
        </div>
        <div class="mb-3">
            <label for="diagnosisCode" class="form-label">Diagnosis Code</label>
            <InputText id="diagnosisCode" class="form-control" @bind-Value="newPatient.DiagnosisCode" />
        </div>
        <div class="mb-3">
            <label for="insuranceStatus" class="form-label">Insurance Status</label>
            <InputSelect id="insuranceStatus" class="form-control" @bind-Value="newPatient.InsuranceStatus">
                <option value="">Select Insurance Status</option>
                <option value="Insured">Insured</option>
                <option value="Uninsured">Uninsured</option>
            </InputSelect>
        </div>
        <button type="submit" class="btn btn-primary" disabled="@isSubmitting">Add Patient</button>
        @if (errorMessage != null)
        {
            <div class="alert alert-danger" role="alert">
                @errorMessage
            </div>
        }
    </EditForm>
</div>

